<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grow-With-Core - Real-time Investment</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Define CSS Variables for a consistent and beautiful color palette */
        :root {
            --primary-blue: #2c5282; /* Deep Blue */
            --primary-light-blue: #4299e1; /* Lighter Blue for gradients */
            --accent-green: #38a169; /* Vibrant Green for positive */
            --accent-red: #e53e3e; /* Clear Red for negative */
            --bg-light: #f8faff; /* Very light background */
            --bg-gradient-start: #e0f7fa; /* Light teal-blue */
            --bg-gradient-end: #cbf0f8; /* Slightly darker teal-blue */
            --text-dark: #2d3748; /* Dark gray for main text */
            --text-medium: #4a5568; /* Medium gray for descriptions */
            --card-bg: #ffffff; /* White for cards */
            --border-light: #edf2f7; /* Light border for elements */
            --shadow-light: rgba(0, 0, 0, 0.08); /* Light shadow */
            --shadow-medium: rgba(0, 0, 0, 0.12); /* Medium shadow */
            --shadow-strong: rgba(0, 0, 0, 0.2); /* Strong shadow */
        }

        /* Base styles for the entire page */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 1.5rem; /* Slightly reduced padding for tighter look */
            box-sizing: border-box;
            color: var(--text-dark);
            overflow-x: hidden;
        }

        /* Header styling */
        .app-header {
            width: 100%;
            max-width: 1200px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.25rem 2rem; /* Slightly smaller padding */
            background-color: var(--card-bg);
            border-radius: 1.5rem;
            box-shadow: 0 10px 30px var(--shadow-light);
            margin-bottom: 2rem;
            animation: fadeInDown 0.8s ease-out forwards;
            opacity: 0;
            transform: translateY(-20px);
            z-index: 10;
            border-bottom: 2px solid var(--border-light); /* Subtle border */
            position: sticky; /* Make header sticky */
            top: 1.5rem; /* Position it with page padding */
            transition: top 0.3s ease-in-out;
        }

        @keyframes fadeInDown {
            to { opacity: 1; transform: translateY(0); }
        }

        .header-title {
            font-size: 2.4rem; /* Larger title */
            font-weight: 800;
            color: var(--primary-blue);
            letter-spacing: -0.04em; /* Tighter letter spacing */
            text-shadow: 1px 1px 2px rgba(0,0,0,0.05); /* Subtle text shadow */
        }

        .header-buttons {
            display: flex;
            gap: 1rem;
        }

        .header-nav-links {
            display: flex;
            gap: 1.5rem;
            margin-left: 2rem;
        }

        .header-nav-link {
            color: var(--primary-blue);
            font-weight: 600;
            text-decoration: none;
            transition: color 0.2s ease-in-out;
        }
        .header-nav-link:hover {
            color: var(--primary-light-blue);
        }

        /* General button styling */
        .btn {
            padding: 0.8rem 1.6rem; /* Slightly larger buttons */
            border-radius: 0.75rem;
            font-size: 1rem; /* Slightly larger font */
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            border: none;
            box-shadow: 0 4px 15px var(--shadow-light);
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary-blue) 0%, var(--primary-light-blue) 100%);
            color: white;
        }
        .btn-primary:hover {
            background: linear-gradient(45deg, var(--primary-light-blue) 0%, #63b3ed 100%);
            transform: translateY(-3px); /* More pronounced lift */
            box-shadow: 0 8px 20px var(--shadow-medium);
        }
        .btn-primary:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            filter: brightness(0.9);
        }

        .btn-secondary {
            background-color: var(--bg-light);
            color: var(--primary-blue);
            border: 2px solid var(--primary-light-blue); /* Stronger border */
        }
        .btn-secondary:hover {
            background-color: #e2e8f0;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        .btn-secondary:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            filter: brightness(0.95);
        }

        .btn-danger {
            background-color: var(--accent-red);
            color: white;
        }
        .btn-danger:hover {
            background-color: #c53030;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        .btn-danger:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            filter: brightness(0.9);
        }


        /* Main content container */
        .main-content-wrapper {
            width: 100%;
            max-width: 1200px;
            margin-top: 2rem; /* Space below sticky header */
        }

        .main-content {
            background-color: var(--card-bg);
            padding: 3rem; /* More generous padding */
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px var(--shadow-medium);
            animation: fadeInScale 0.8s ease-out forwards;
            opacity: 0;
            transform: scale(0.98);
            margin-bottom: 2rem; /* Space between main sections */
        }

        @keyframes fadeInScale {
            to { opacity: 1; transform: scale(1); }
        }

        /* General Section Styling */
        .info-section {
            background-color: var(--card-bg);
            padding: 3rem;
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px var(--shadow-light);
            margin-bottom: 2rem;
            text-align: center;
            scroll-margin-top: 8rem; /* Account for sticky header */
        }

        .info-section h2 {
            font-size: 2.8rem;
            font-weight: 800;
            color: var(--primary-blue);
            margin-bottom: 1.5rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.05);
        }

        .info-section p {
            font-size: 1.1rem;
            color: var(--text-medium);
            line-height: 1.8;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 1.5rem;
        }

        /* Investment Dashboard specific styling */
        .investment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem; /* Increased gap for better spacing */
        }

        .investment-card {
            background-color: var(--bg-light); /* Slightly off-white for cards */
            padding: 2.2rem; /* Slightly more padding */
            border-radius: 1.5rem; /* More rounded corners */
            box-shadow: 0 8px 20px var(--shadow-light);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            border: 1px solid var(--border-light);
            position: relative; /* For potential absolute positioning of elements */
            overflow: hidden; /* Ensures shadows/transforms don't bleed */
        }

        .investment-card:hover {
            transform: translateY(-7px) scale(1.02); /* Lift and slightly enlarge */
            box-shadow: 0 15px 30px var(--shadow-medium);
        }

        .investment-card h3 {
            font-size: 2rem; /* Larger heading */
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 0.75rem;
            position: relative;
            z-index: 1; /* Ensure text is above any background effects */
        }

        .investment-card p {
            font-size: 1rem; /* Slightly larger description font */
            color: var(--text-medium);
            margin-bottom: 1.5rem;
            line-height: 1.7; /* Better readability */
            max-width: 90%; /* Constrain width for better text flow */
        }

        .yield-display {
            font-size: 2.8rem; /* Even larger yield display */
            font-weight: 800;
            color: var(--accent-green);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem; /* More space for icon */
            text-shadow: 0 1px 3px rgba(0,0,0,0.1); /* Subtle shadow for numbers */
        }
        .yield-display.negative {
            color: var(--accent-red);
        }
        .yield-display .icon {
            font-size: 2.2rem; /* Size for emoji/SVG icons */
        }

        /* Canvas for simulated graph */
        .yield-chart {
            width: 100%;
            max-width: 350px; /* Wider charts */
            height: 180px; /* Taller charts */
            background-color: var(--card-bg);
            border-radius: 0.75rem;
            margin-top: 1rem;
            margin-bottom: 1.5rem;
            border: 1px solid var(--border-light);
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.03); /* Inner shadow for depth */
        }

        /* Calculator section */
        .calculator-section {
            width: 100%;
            background-color: var(--card-bg);
            padding: 1.8rem; /* More padding */
            border-radius: 1.25rem; /* More rounded */
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.05);
            margin-top: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1.2rem; /* Increased gap */
            border: 1px solid var(--border-light);
        }

        .calculator-section h4 {
            font-size: 1.2rem; /* Larger heading */
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }

        .calculator-section input {
            padding: 0.85rem 1.1rem; /* Slightly larger input */
            border: 1px solid #cbd5e1;
            border-radius: 0.6rem; /* More rounded */
            font-size: 1rem;
            color: var(--text-dark);
            transition: border-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .calculator-section input:focus {
            outline: none;
            border-color: var(--primary-light-blue);
            box-shadow: 0 0 0 4px rgba(66, 153, 225, 0.2); /* Brighter focus ring */
        }

        .calculator-result {
            font-size: 1.2rem; /* Larger result font */
            font-weight: 600;
            color: var(--text-dark);
            margin-top: 0.5rem;
        }
        .calculator-result span {
            color: var(--accent-green);
            font-weight: 700; /* Bolder profit text */
        }
        .calculator-result span.loss {
            color: var(--accent-red);
        }

        /* Auth forms */
        .auth-container {
            background-color: var(--card-bg);
            padding: 3rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px var(--shadow-medium);
            width: 100%;
            max-width: 480px; /* Slightly wider forms */
            text-align: center;
            animation: fadeInScale 0.8s ease-out forwards;
            opacity: 0;
            transform: scale(0.95);
            margin: auto;
        }

        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem; /* More space between inputs */
            margin-bottom: 1.8rem; /* More space before link */
        }

        .auth-input {
            padding: 1rem 1.2rem; /* Larger inputs */
            border: 2px solid var(--border-light);
            border-radius: 0.8rem;
            font-size: 1.05rem;
            color: var(--text-dark);
            transition: border-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }

        .auth-input:focus {
            outline: none;
            border-color: var(--primary-light-blue);
            box-shadow: 0 0 0 4px rgba(66, 153, 225, 0.25);
        }

        .switch-view-link {
            color: var(--primary-blue);
            font-weight: 600;
            cursor: pointer;
            transition: color 0.2s ease-in-out;
            text-decoration: none;
        }

        .switch-view-link:hover {
            color: var(--primary-light-blue);
            text-decoration: underline;
        }

        /* Message Box */
        #messageBox {
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            margin-top: 1.5rem;
            text-align: left;
            display: none;
            font-size: 0.95rem;
            font-weight: 500;
            transition: opacity 0.3s ease-in-out;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .message-error {
            background-color: #fef2f2; /* Lighter red background */
            color: #ef4444; /* Stronger red text */
            border: 1px solid #fecaca;
        }
        .message-success {
            background-color: #ecfdf5; /* Lighter green background */
            color: #10b981; /* Stronger green text */
            border: 1px solid #a7f3d0;
        }
        .message-info {
            background-color: #eff6ff; /* Lighter blue background */
            color: #3b82f6; /* Stronger blue text */
            border: 1px solid #bfdbfe;
        }

        /* Welcome Screen */
        #welcomeScreen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 250px; /* Taller welcome screen */
        }

        #welcomeScreen h2 {
            font-size: 2.5rem; /* Larger welcome text */
            color: var(--primary-blue);
            margin-bottom: 1rem;
            font-weight: 800;
        }

        #welcomeScreen p {
            font-size: 1.2rem; /* Larger description */
            color: var(--text-medium);
            margin-bottom: 2.5rem;
        }

        /* Portfolio Section */
        #portfolioSection {
            background-color: var(--card-bg);
            padding: 3rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px var(--shadow-medium);
            animation: fadeInScale 0.8s ease-out forwards;
            opacity: 0;
            transform: scale(0.98);
            width: 100%;
            max-width: 1200px;
            margin-top: 2rem;
        }
        #portfolioSection h2 {
            font-size: 2.4rem;
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 1.8rem;
            text-align: center;
        }
        .cash-balance {
            font-size: 1.8rem; /* Larger cash balance */
            font-weight: 600;
            color: var(--accent-green);
            margin-bottom: 2rem;
            text-align: center;
            text-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); /* Slightly wider min for portfolio cards */
            gap: 2rem;
        }
        .portfolio-item {
            background-color: var(--bg-light);
            padding: 1.8rem;
            border-radius: 1.25rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            border: 1px solid var(--border-light);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .portfolio-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        }
        .portfolio-item h4 {
            font-size: 1.6rem; /* Larger heading */
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 0.6rem;
        }
        .portfolio-item p {
            font-size: 0.95rem;
            color: var(--text-medium);
            margin-bottom: 0.4rem;
        }
        .portfolio-value {
            font-size: 2.2rem; /* Larger value */
            font-weight: 800;
            color: var(--accent-green);
            margin-bottom: 1.2rem;
            text-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .portfolio-value.loss {
            color: var(--accent-red);
        }
        .portfolio-chart {
            width: 100%;
            max-width: 280px; /* Wider portfolio charts */
            height: 140px; /* Taller portfolio charts */
            background-color: var(--card-bg);
            border-radius: 0.6rem;
            margin-top: 0.5rem;
            border: 1px solid var(--border-light);
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.02);
        }
        #noInvestmentsMessage {
            font-size: 1.1rem;
            color: var(--text-medium);
            padding: 2rem;
            background-color: var(--bg-light);
            border-radius: 1rem;
            border: 1px dashed var(--border-light);
            margin-top: 2rem;
        }

        /* Invest Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7); /* Darker overlay */
            backdrop-filter: blur(5px); /* Subtle blur effect */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background-color: var(--card-bg);
            padding: 3rem; /* More padding */
            border-radius: 1.5rem;
            box-shadow: 0 25px 50px var(--shadow-strong); /* Stronger shadow for modal */
            width: 90%;
            max-width: 450px; /* Wider modal */
            text-align: center;
            transform: translateY(30px); /* More pronounced slide-in */
            opacity: 0;
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        .modal-overlay.show .modal-content {
            transform: translateY(0);
            opacity: 1;
        }
        .modal-content h3 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 1.8rem;
        }
        .modal-content p {
            font-size: 1.05rem;
            color: var(--text-medium);
            margin-bottom: 1.5rem;
        }
        .modal-content input {
            width: 100%;
            padding: 1rem 1.2rem;
            border: 2px solid var(--border-light);
            border-radius: 0.8rem;
            font-size: 1.05rem;
            color: var(--text-dark);
            margin-bottom: 1.8rem;
            transition: border-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .modal-content input:focus {
            outline: none;
            border-color: var(--primary-light-blue);
            box-shadow: 0 0 0 4px rgba(66, 153, 225, 0.25);
        }
        .modal-actions {
            display: flex;
            gap: 1.2rem; /* More space between buttons */
            justify-content: center;
        }

        /* How It Works Section */
        .how-it-works-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        .how-it-works-step {
            background-color: var(--bg-light);
            padding: 1.8rem;
            border-radius: 1.25rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            text-align: left;
            border: 1px solid var(--border-light);
        }
        .how-it-works-step h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .how-it-works-step h3 span {
            font-size: 2rem; /* Icon size */
        }
        .how-it-works-step p {
            font-size: 0.95rem;
            color: var(--text-medium);
            line-height: 1.6;
            margin-bottom: 0;
        }

        /* Testimonials Section */
        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        .testimonial-card {
            background-color: var(--bg-light);
            padding: 2rem;
            border-radius: 1.25rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            text-align: left;
            border: 1px solid var(--border-light);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .testimonial-card p.quote {
            font-style: italic;
            color: var(--text-dark);
            font-size: 1.05rem;
            margin-bottom: 1.5rem;
            line-height: 1.7;
        }
        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: 1rem;
        }
        .testimonial-author .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--primary-light-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            flex-shrink: 0;
        }
        .testimonial-author .name {
            font-weight: 600;
            color: var(--primary-blue);
            font-size: 1.1rem;
        }

        /* FAQ Section */
        .faq-item {
            background-color: var(--bg-light);
            padding: 1.5rem 2rem;
            border-radius: 1rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.03);
            margin-bottom: 1rem;
            text-align: left;
            border: 1px solid var(--border-light);
        }
        .faq-question {
            font-weight: 600;
            color: var(--primary-blue);
            font-size: 1.1rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .faq-answer {
            color: var(--text-medium);
            font-size: 0.95rem;
            margin-top: 0.8rem;
            line-height: 1.6;
            display: none; /* Hidden by default */
        }
        .faq-question.active + .faq-answer {
            display: block;
        }
        .faq-question .arrow {
            transition: transform 0.3s ease-in-out;
        }
        .faq-question.active .arrow {
            transform: rotate(90deg);
        }

        /* Contact Us Section */
        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: 2rem;
        }
        .contact-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            color: var(--text-dark);
            font-size: 1.05rem;
            justify-content: center;
        }
        .contact-item span {
            font-size: 1.5rem; /* Icon size */
            color: var(--primary-light-blue);
        }
        .contact-item a {
            color: var(--primary-blue);
            text-decoration: none;
            transition: color 0.2s ease-in-out;
        }
        .contact-item a:hover {
            color: var(--primary-light-blue);
            text-decoration: underline;
        }

        /* Footer */
        .app-footer {
            width: 100%;
            max-width: 1200px;
            padding: 2rem;
            margin-top: 3rem;
            background-color: var(--primary-blue);
            color: white;
            text-align: center;
            border-radius: 1.5rem;
            box-shadow: 0 10px 30px var(--shadow-medium);
            font-size: 0.9rem;
        }
        .footer-links a {
            color: white;
            text-decoration: none;
            margin: 0 0.8rem;
            transition: color 0.2s ease-in-out;
        }
        .footer-links a:hover {
            color: var(--primary-light-blue);
        }
        .social-icons {
            margin-top: 1rem;
            display: flex;
            justify-content: center;
            gap: 1.5rem;
        }
        .social-icons a {
            color: white;
            font-size: 1.8rem;
            transition: transform 0.2s ease-in-out, color 0.2s ease-in-out;
        }
        .social-icons a:hover {
            transform: translateY(-3px) scale(1.1);
            color: var(--primary-light-blue);
        }


        /* Responsive adjustments */
        @media (max-width: 1024px) {
            .main-content {
                padding: 2.5rem;
            }
            .investment-grid {
                gap: 2rem;
            }
            .investment-card {
                padding: 2rem;
            }
            .investment-card h3 {
                font-size: 1.8rem;
            }
            .yield-display {
                font-size: 2.5rem;
            }
            .header-nav-links {
                gap: 1rem;
                margin-left: 1rem;
            }
            .header-nav-link {
                font-size: 0.95rem;
            }
            .info-section h2 {
                font-size: 2.4rem;
            }
            .info-section p {
                font-size: 1rem;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }
            .app-header {
                flex-direction: column;
                padding: 1rem 1.5rem;
                margin-bottom: 1.5rem;
                border-radius: 1rem;
                position: static; /* Remove sticky on small screens for better flow */
                top: auto;
            }
            .header-title {
                font-size: 2rem;
                margin-bottom: 1rem;
            }
            .header-buttons {
                flex-direction: column;
                width: 100%;
                gap: 0.75rem;
            }
            .header-nav-links {
                flex-wrap: wrap;
                justify-content: center;
                margin-top: 1rem;
                margin-left: 0;
                width: 100%;
            }
            .header-nav-link {
                font-size: 0.85rem;
                padding: 0.5rem 0.75rem;
                border: 1px solid var(--border-light);
                border-radius: 0.5rem;
                background-color: var(--bg-light);
            }
            .btn {
                width: 100%;
                padding: 0.7rem 1.2rem;
                font-size: 0.9rem;
            }
            .main-content-wrapper {
                margin-top: 1rem;
            }
            .main-content, .info-section {
                padding: 1.5rem;
                border-radius: 1rem;
                margin-bottom: 1.5rem;
            }
            .info-section h2 {
                font-size: 2rem;
            }
            .info-section p {
                font-size: 0.9rem;
            }
            .investment-grid {
                grid-template-columns: 1fr; /* Stack cards on small screens */
            }
            .investment-card {
                padding: 1.5rem;
                border-radius: 1rem;
            }
            .investment-card h3 {
                font-size: 1.6rem;
            }
            .investment-card p {
                font-size: 0.9rem;
            }
            .yield-display {
                font-size: 2.2rem;
                gap: 0.5rem;
            }
            .yield-display .icon {
                font-size: 1.8rem;
            }
            .yield-chart {
                height: 120px;
            }
            .calculator-section {
                padding: 1.2rem;
                border-radius: 0.8rem;
            }
            .calculator-section h4 {
                font-size: 1.1rem;
            }
            .calculator-section input {
                padding: 0.7rem 1rem;
                font-size: 0.9rem;
            }
            .calculator-result {
                font-size: 1rem;
            }
            .auth-container {
                padding: 2rem;
                border-radius: 1rem;
            }
            .auth-form {
                gap: 1rem;
                margin-bottom: 1.2rem;
            }
            .auth-input {
                padding: 0.8rem 1rem;
                font-size: 0.95rem;
            }
            #portfolioSection {
                padding: 1.5rem;
                border-radius: 1rem;
            }
            #portfolioSection h2 {
                font-size: 2rem;
            }
            .cash-balance {
                font-size: 1.4rem;
            }
            .portfolio-grid {
                grid-template-columns: 1fr;
            }
            .portfolio-item {
                padding: 1.2rem;
                border-radius: 0.8rem;
            }
            .portfolio-item h4 {
                font-size: 1.3rem;
            }
            .portfolio-value {
                font-size: 1.8rem;
            }
            .portfolio-chart {
                height: 100px;
            }
            .modal-content {
                padding: 2rem;
                border-radius: 1rem;
            }
            .modal-content h3 {
                font-size: 1.6rem;
            }
            .modal-content input {
                padding: 0.8rem 1rem;
                font-size: 0.95rem;
            }
            .modal-actions {
                gap: 1rem;
            }
            .how-it-works-grid, .testimonials-grid {
                gap: 1.5rem;
            }
            .how-it-works-step, .testimonial-card, .faq-item {
                padding: 1.2rem 1.5rem;
                border-radius: 0.8rem;
            }
            .how-it-works-step h3 {
                font-size: 1.3rem;
            }
            .how-it-works-step h3 span {
                font-size: 1.6rem;
            }
            .testimonial-card p.quote {
                font-size: 0.95rem;
            }
            .testimonial-author .avatar {
                width: 40px;
                height: 40px;
                font-size: 1.4rem;
            }
            .testimonial-author .name {
                font-size: 1rem;
            }
            .faq-question {
                font-size: 1rem;
            }
            .faq-answer {
                font-size: 0.9rem;
            }
            .contact-item {
                font-size: 0.95rem;
            }
            .contact-item span {
                font-size: 1.3rem;
            }
            .app-footer {
                padding: 1.5rem;
                border-radius: 1rem;
            }
            .footer-links a {
                margin: 0 0.5rem;
            }
            .social-icons a {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Application Header -->
    <header class="app-header">
        <div class="flex items-center">
            <div class="header-title">Grow-With-Core</div>
            <nav class="header-nav-links">
                <a href="#aboutSection" class="header-nav-link">About</a>
                <a href="#howItWorksSection" class="header-nav-link">How It Works</a>
                <a href="#testimonialsSection" class="header-nav-link">Testimonials</a>
                <a href="#faqSection" class="header-nav-link">FAQ</a>
                <a href="#contactSection" class="header-nav-link">Contact</a>
            </nav>
        </div>
        <div class="header-buttons">
            <button id="showLoginBtn" class="btn btn-secondary">Login</button>
            <button id="showCreateAccountBtn" class="btn btn-primary">Create Account</button>
            <button id="myPortfolioBtn" class="btn btn-secondary hidden">My Portfolio</button>
            <button id="logoutBtn" class="btn btn-secondary hidden">Logout</button>
            <button id="dashboardBtn" class="btn btn-secondary hidden">Dashboard</button>
        </div>
    </header>

    <!-- Main Content Area Wrapper -->
    <div class="main-content-wrapper">
        <!-- Investment Dashboard Section -->
        <section id="investmentDashboard" class="main-content">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">Invest in Your Future Today</h2>
            <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">
                Discover diverse investment opportunities tailored for growth. Our platform provides real-time insights and secure management for your financial aspirations.
            </p>
            <div class="investment-grid">
                <!-- Real-time Market Investment Card -->
                <div class="investment-card">
                    <h3>Real-time Market</h3>
                    <p>📈 Dive into the dynamic world of real-time market trading. Experience rapid growth potential driven by simulated global trends. Perfect for those seeking high returns and comfortable with higher volatility. Your investment adapts instantly to market shifts, offering daily opportunities for significant gains.</p>
                    <div class="yield-display">
                        Yield: ₦<span id="marketYield">0.00</span>
                    </div>
                    <canvas id="marketChart" class="yield-chart"></canvas>
                    <div class="calculator-section">
                        <h4 class="font-semibold text-gray-700">Calculate Projected Returns</h4>
                        <input type="number" id="marketAmount" placeholder="Investment Amount (₦)" min="15000" value="15000">
                        <input type="number" id="marketDuration" placeholder="Duration (months)" min="1" max="60" value="12">
                        <button class="btn btn-primary calculate-btn" data-type="market">Calculate</button>
                        <div class="calculator-result">Projected Return: ₦<span id="marketReturn">0.00</span></div>
                    </div>
                    <button class="btn btn-primary mt-4 invest-btn" data-investment-type="market">Invest Now</button>
                </div>

                <!-- Farming Investment Card -->
                <div class="investment-card">
                    <h3>Farming</h3>
                    <p>🌾 Cultivate prosperity with stable agricultural investments. Your funds support sustainable farming practices, yielding consistent and predictable returns from crop harvests. Ideal for long-term growth, this low-volatility option provides a steady income stream and contributes to food security.</p>
                    <div class="yield-display">
                        Yield: ₦<span id="farmingYield">0.00</span>
                    </div>
                    <canvas id="farmingChart" class="yield-chart"></canvas>
                    <div class="calculator-section">
                        <h4 class="font-semibold text-gray-700">Calculate Projected Returns</h4>
                        <input type="number" id="farmingAmount" placeholder="Investment Amount (₦)" min="15000" value="15000">
                        <input type="number" id="farmingDuration" placeholder="Duration (months)" min="1" max="60" value="12">
                        <button class="btn btn-primary calculate-btn" data-type="farming">Calculate</button>
                        <div class="calculator-result">Projected Return: ₦<span id="farmingReturn">0.00</span></div>
                    </div>
                    <button class="btn btn-primary mt-4 invest-btn" data-investment-type="farming">Invest Now</button>
                </div>

                <!-- Poultry Investment Card -->
                <div class="investment-card">
                    <h3>Poultry</h3>
                    <p>🐔 Invest in the thriving poultry industry for reliable, recurring profits. Benefit from consistent egg and meat production cycles, ensuring regular payouts. This moderate-risk option offers a balanced growth profile, making it a smart choice for diversified portfolios.</p>
                    <div class="yield-display">
                        Yield: ₦<span id="poultryYield">0.00</span>
                    </div>
                    <canvas id="poultryChart" class="yield-chart"></canvas>
                    <div class="calculator-section">
                        <h4 class="font-semibold text-gray-700">Calculate Projected Returns</h4>
                        <input type="number" id="poultryAmount" placeholder="Investment Amount (₦)" min="15000" value="15000">
                        <input type="number" id="poultryDuration" placeholder="Duration (months)" min="1" max="60" value="12">
                        <button class="btn btn-primary calculate-btn" data-type="poultry">Calculate</button>
                        <div class="calculator-result">Projected Return: ₦<span id="poultryReturn">0.00</span></div>
                    </div>
                    <button class="btn btn-primary mt-4 invest-btn" data-investment-type="poultry">Invest Now</button>
                </div>

                <!-- Basic Fish Farming Investment Card (Renamed) -->
                <div class="investment-card">
                    <h3>Basic Fish Farming</h3>
                    <p>🐟 Tap into the growing demand for aquatic produce with foundational fish farming. This option offers steady growth as fish mature, providing reliable returns. It's a balanced choice for those new to aquaculture, contributing to sustainable food sources.</p>
                    <div class="yield-display">
                        Yield: ₦<span id="fishFarmingYield">0.00</span>
                    </div>
                    <canvas id="fishFarmingChart" class="yield-chart"></canvas>
                    <div class="calculator-section">
                        <h4 class="font-semibold text-gray-700">Calculate Projected Returns</h4>
                        <input type="number" id="fishFarmingAmount" placeholder="Investment Amount (₦)" min="15000" value="15000">
                        <input type="number" id="fishFarmingDuration" placeholder="Duration (months)" min="1" max="60" value="12">
                        <button class="btn btn-primary calculate-btn" data-type="fishFarming">Calculate</button>
                        <div class="calculator-result">Projected Return: ₦<span id="fishFarmingReturn">0.00</span></div>
                    </div>
                    <button class="btn btn-primary mt-4 invest-btn" data-investment-type="fishFarming">Invest Now</button>
                </div>

                <!-- NEW: Advanced Aquaculture Investment Card -->
                <div class="investment-card">
                    <h3>Advanced Aquaculture</h3>
                    <p>🐠 Elevate your aquatic investments with advanced aquaculture techniques. This high-growth sector utilizes modern technology for accelerated fish production, offering significantly higher returns. Ideal for experienced investors seeking amplified profits from innovative farming methods.</p>
                    <div class="yield-display">
                        Yield: ₦<span id="aquacultureYield">0.00</span>
                    </div>
                    <canvas id="aquacultureChart" class="yield-chart"></canvas>
                    <div class="calculator-section">
                        <h4 class="font-semibold text-gray-700">Calculate Projected Returns</h4>
                        <input type="number" id="aquacultureAmount" placeholder="Investment Amount (₦)" min="25000" value="25000">
                        <input type="number" id="aquacultureDuration" placeholder="Duration (months)" min="3" max="60" value="18">
                        <button class="btn btn-primary calculate-btn" data-type="aquaculture">Calculate</button>
                        <div class="calculator-result">Projected Return: ₦<span id="aquacultureReturn">0.00</span></div>
                    </div>
                    <button class="btn btn-primary mt-4 invest-btn" data-investment-type="aquaculture">Invest Now</button>
                </div>

                <!-- NEW: Livestock Rearing Investment Card -->
                <div class="investment-card">
                    <h3>Livestock Rearing</h3>
                    <p>🐄 Invest in the robust livestock sector for consistent, long-term returns. Funds support ethical rearing practices, benefiting from growth in animal produce and meat markets. A stable and essential investment, perfect for diversifying your portfolio with tangible assets.</p>
                    <div class="yield-display">
                        Yield: ₦<span id="livestockYield">0.00</span>
                    </div>
                    <canvas id="livestockChart" class="yield-chart"></canvas>
                    <div class="calculator-section">
                        <h4 class="font-semibold text-gray-700">Calculate Projected Returns</h4>
                        <input type="number" id="livestockAmount" placeholder="Investment Amount (₦)" min="20000" value="20000">
                        <input type="number" id="livestockDuration" placeholder="Duration (months)" min="6" max="72" value="24">
                        <button class="btn btn-primary calculate-btn" data-type="livestock">Calculate</button>
                        <div class="calculator-result">Projected Return: ₦<span id="livestockReturn">0.00</span></div>
                    </div>
                    <button class="btn btn-primary mt-4 invest-btn" data-investment-type="livestock">Invest Now</button>
                </div>

                <!-- NEW: Agro-Processing Investment Card -->
                <div class="investment-card">
                    <h3>Agro-Processing</h3>
                    <p>📦 Invest in the value chain of agriculture through agro-processing. This involves transforming raw farm produce into finished goods, capturing higher profit margins. A forward-looking investment with strong growth potential driven by increasing demand for processed foods and exports.</p>
                    <div class="yield-display">
                        Yield: ₦<span id="agroprocessingYield">0.00</span>
                    </div>
                    <canvas id="agroprocessingChart" class="yield-chart"></canvas>
                    <div class="calculator-section">
                        <h4 class="font-semibold text-gray-700">Calculate Projected Returns</h4>
                        <input type="number" id="agroprocessingAmount" placeholder="Investment Amount (₦)" min="30000" value="30000">
                        <input type="number" id="agroprocessingDuration" placeholder="Duration (months)" min="9" max="60" value="36">
                        <button class="btn btn-primary calculate-btn" data-type="agroprocessing">Calculate</button>
                        <div class="calculator-result">Projected Return: ₦<span id="agroprocessingReturn">0.00</span></div>
                    </div>
                    <button class="btn btn-primary mt-4 invest-btn" data-investment-type="agroprocessing">Invest Now</button>
                </div>

                <!-- NEW: Dairy Farming Investment Card -->
                <div class="investment-card">
                    <h3>Dairy Farming</h3>
                    <p>🥛 Invest in the consistent returns of dairy production. This sector offers stable income through milk, cheese, and other dairy products, catering to essential consumer needs. A reliable, low-to-moderate risk option for long-term portfolio stability and growth.</p>
                    <div class="yield-display">
                        Yield: ₦<span id="dairyYield">0.00</span>
                    </div>
                    <canvas id="dairyChart" class="yield-chart"></canvas>
                    <div class="calculator-section">
                        <h4 class="font-semibold text-gray-700">Calculate Projected Returns</h4>
                        <input type="number" id="dairyAmount" placeholder="Investment Amount (₦)" min="20000" value="20000">
                        <input type="number" id="dairyDuration" placeholder="Duration (months)" min="12" max="84" value="24">
                        <button class="btn btn-primary calculate-btn" data-type="dairy">Calculate</button>
                        <div class="calculator-result">Projected Return: ₦<span id="dairyReturn">0.00</span></div>
                    </div>
                    <button class="btn btn-primary mt-4 invest-btn" data-investment-type="dairy">Invest Now</button>
                </div>

                <!-- NEW: Snail Farming (Heliculture) Investment Card -->
                <div class="investment-card">
                    <h3>Snail Farming</h3>
                    <p>🐌 Explore the unique and lucrative world of heliculture. Snail farming offers high profit margins due to low input costs and growing demand in gourmet and pharmaceutical markets. A specialized investment with significant potential for rapid returns.</p>
                    <div class="yield-display">
                        Yield: ₦<span id="snailYield">0.00</span>
                    </div>
                    <canvas id="snailChart" class="yield-chart"></canvas>
                    <div class="calculator-section">
                        <h4 class="font-semibold text-gray-700">Calculate Projected Returns</h4>
                        <input type="number" id="snailAmount" placeholder="Investment Amount (₦)" min="18000" value="18000">
                        <input type="number" id="snailDuration" placeholder="Duration (months)" min="6" max="36" value="12">
                        <button class="btn btn-primary calculate-btn" data-type="snail">Calculate</button>
                        <div class="calculator-result">Projected Return: ₦<span id="snailReturn">0.00</span></div>
                    </div>
                    <button class="btn btn-primary mt-4 invest-btn" data-investment-type="snail">Invest Now</button>
                </div>

                <!-- NEW: Organic Crop Farming Investment Card -->
                <div class="investment-card">
                    <h3>Organic Crop Farming</h3>
                    <p>🌱 Invest in the future of sustainable agriculture. Organic crop farming yields premium produce and higher market prices due to increasing consumer demand for healthy, eco-friendly food. A responsible investment with excellent long-term profit potential.</p>
                    <div class="yield-display">
                        Yield: ₦<span id="organicCropYield">0.00</span>
                    </div>
                    <canvas id="organicCropChart" class="yield-chart"></canvas>
                    <div class="calculator-section">
                        <h4 class="font-semibold text-gray-700">Calculate Projected Returns</h4>
                        <input type="number" id="organicCropAmount" placeholder="Investment Amount (₦)" min="22000" value="22000">
                        <input type="number" id="organicCropDuration" placeholder="Duration (months)" min="9" max="48" value="24">
                        <button class="btn btn-primary calculate-btn" data-type="organicCrop">Calculate</button>
                        <div class="calculator-result">Projected Return: ₦<span id="organicCropReturn">0.00</span></div>
                    </div>
                    <button class="btn btn-primary mt-4 invest-btn" data-investment-type="organicCrop">Invest Now</button>
                </div>

            </div>
        </section>

        <!-- Login Form Section (Hidden by default) -->
        <section id="loginSection" class="hidden auth-container">
            <h2 class="text-2xl font-semibold text-gray-700 mb-6">Login to Your Account</h2>
            <form id="loginForm" class="auth-form">
                <input type="text" id="loginUsername" class="auth-input" placeholder="Username" required>
                <input type="password" id="loginPassword" class="auth-input" placeholder="Password" required>
                <button type="submit" class="btn btn-primary">Login</button>
            </form>
            <p class="text-gray-600 text-sm">Don't have an account? <a href="#" id="showCreateAccountLink" class="switch-view-link">Create Account</a></p>
        </section>

        <!-- Create Account Form Section (Hidden by default) -->
        <section id="createAccountSection" class="hidden auth-container">
            <h2 class="text-2xl font-semibold text-gray-700 mb-6">Create a New Account</h2>
            <form id="createAccountForm" class="auth-form">
                <input type="text" id="createUsername" class="auth-input" placeholder="Username" required>
                <input type="password" id="createPassword" class="auth-input" placeholder="Password" required>
                <input type="password" id="confirmPassword" class="auth-input" placeholder="Confirm Password" required>
                <button type="submit" class="btn btn-primary">Create Account</button>
            </form>
            <p class="text-gray-600 text-sm">Already have an account? <a href="#" id="showLoginLink" class="switch-view-link">Login</a></p>
        </section>

        <!-- Welcome Screen (Hidden by default) -->
        <section id="welcomeScreen" class="hidden auth-container">
            <h2 class="text-gray-800 font-bold">Welcome, <span id="welcomeUsername"></span>!</h2>
            <p class="text-gray-600">You have successfully logged in to Grow-With-Core. Explore your portfolio or start new investments!</p>
            <div class="modal-actions">
                <button id="welcomeDashboardBtn" class="btn btn-secondary">Go to Dashboard</button>
                <button id="welcomePortfolioBtn" class="btn btn-primary">View Portfolio</button>
                <button id="welcomeLogoutBtn" class="btn btn-secondary">Logout</button>
            </div>
        </section>

        <!-- Portfolio Section (Hidden by default) -->
        <section id="portfolioSection" class="hidden main-content">
            <h2>My Portfolio</h2>
            <p class="cash-balance">Current Cash Balance: ₦<span id="cashBalance">0.00</span></p>
            <div id="portfolioGrid" class="portfolio-grid">
                <!-- Portfolio items will be dynamically inserted here -->
                <p id="noInvestmentsMessage" class="col-span-full text-center hidden">You have no active investments. Start investing from the Dashboard!</p>
            </div>
        </section>

        <!-- About Us Section -->
        <section id="aboutSection" class="info-section">
            <h2>About Grow-With-Core</h2>
            <p>
                At Grow-With-Core, our mission is to empower individuals to achieve financial independence through smart, sustainable investments. We believe in providing transparent, accessible, and high-growth opportunities that align with real-world economic sectors. Our platform is designed to make investing simple, secure, and rewarding for everyone.
            </p>
            <p>
                Founded on principles of integrity and innovation, Grow-With-Core leverages cutting-edge technology to simulate market dynamics and provide you with a realistic investment experience. Join us and start building your legacy today.
            </p>
        </section>

        <!-- How It Works Section -->
        <section id="howItWorksSection" class="info-section">
            <h2>How It Works</h2>
            <p>Getting started with Grow-With-Core is simple and straightforward. Follow these easy steps to begin your investment journey:</p>
            <div class="how-it-works-grid">
                <div class="how-it-works-step">
                    <h3><span>📝</span> 1. Create Your Account</h3>
                    <p>Sign up in minutes with a secure username and password. Your journey to financial growth begins here, with an initial cash balance to kickstart your portfolio.</p>
                </div>
                <div class="how-it-works-step">
                    <h3><span>💰</span> 2. Choose Your Investment</h3>
                    <p>Explore our diverse range of investment opportunities, including Real-time Market, Farming, Poultry, and Fish Farming. Each offers unique growth potential and risk profiles.</p>
                </div>
                <div class="how-it-works-step">
                    <h3><span>⏳</span> 3. Set Your Duration</h3>
                    <p>Decide how long you want to commit your investment. Our duration-based profit calculation ensures your returns are aligned with your long-term financial goals.</p>
                </div>
                <div class="how-it-works-step">
                    <h3><span>📊</span> 4. Monitor Your Growth</h3>
                    <p>Track your portfolio's performance in real-time with intuitive charts and updated values. Watch your investments grow and adapt to simulated market conditions.</p>
                </div>
                <div class="how-it-works-step">
                    <h3><span>💸</span> 5. Cash Out Anytime</h3>
                    <p>You have full control. Cash out your investments at their current value whenever you choose, and the funds will be instantly added back to your cash balance.</p>
                </div>
                <div class="how-it-works-step">
                    <h3><span>🚀</span> 6. Reinvest & Grow</h3>
                    <p>Use your cashed-out funds to reinvest in new opportunities, diversify your portfolio, and continue your path towards significant financial growth.</p>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section id="testimonialsSection" class="info-section">
            <h2>What Our Investors Say</h2>
            <p>Hear directly from individuals who have achieved their financial goals with Grow-With-Core.</p>
            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <p class="quote">"Grow-With-Core transformed my understanding of investments. The farming option provided such stable returns, allowing me to plan for my future with confidence. Highly recommended!"</p>
                    <div class="testimonial-author">
                        <div class="avatar">A.O</div>
                        <div class="name">Aisha O.</div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <p class="quote">"The real-time market feature is exhilarating! I love the dynamic nature and the potential for quick gains. Grow-With-Core makes investing accessible and exciting."</p>
                    <div class="testimonial-author">
                        <div class="avatar">K.B</div>
                        <div class="name">Kola B.</div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <p class="quote">"I started with a small poultry investment and was amazed by the consistent profits. It's a fantastic platform for anyone looking for reliable income streams."</p>
                    <div class="testimonial-author">
                        <div class="avatar">S.M</div>
                        <div class="name">Segun M.</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section id="faqSection" class="info-section">
            <h2>Frequently Asked Questions</h2>
            <div class="faq-container">
                <div class="faq-item">
                    <div class="faq-question">
                        What is the minimum investment amount?
                        <span class="arrow">▶</span>
                    </div>
                    <div class="faq-answer">
                        The minimum investment amount on Grow-With-Core is ₦15,000. This allows a wide range of users to start their investment journey. Specific investment types may have higher minimums as indicated on their cards.
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        How are profits calculated?
                        <span class="arrow">▶</span>
                    </div>
                    <div class="faq-answer">
                        Profits are calculated based on the initial investment amount, the annual interest rate associated with the investment type, and the duration you select. A small layer of simulated market volatility is also applied.
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        Can I cash out my investment anytime?
                        <span class="arrow">▶</span>
                    </div>
                    <div class="faq-answer">
                        Yes, you can cash out your investment at any time. The funds will be returned to your cash balance at their current market value.
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        Is my data secure?
                        <span class="arrow">▶</span>
                    </div>
                    <div class="faq-answer">
                        For this simulation, user data (username, encoded password, cash balance, and investments) is stored locally in your browser's Local Storage. In a real-world application, robust server-side security measures, encryption, and secure authentication would be implemented.
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        What are the risks involved?
                        <span class="arrow">▶</span>
                    </div>
                    <div class="faq-answer">
                        As a simulation, Grow-With-Core mimics real market conditions, which include inherent risks. While some investments are designed for stability (e.g., Farming), others (e.g., Real-time Market, Advanced Aquaculture) have higher volatility, meaning values can fluctuate. Invest wisely and diversify your portfolio.
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Us Section -->
        <section id="contactSection" class="info-section">
            <h2>Contact Us</h2>
            <p>Have questions or need support? Reach out to our team!</p>
            <div class="contact-info">
                <div class="contact-item">
                    <span>📧</span> Email: <a href="mailto:support@growwithcore.com">support@growwithcore.com</a>
                </div>
                <div class="contact-item">
                    <span>📞</span> Phone: <a href="tel:+2348012345678">+234 801 234 5678</a>
                </div>
                <div class="contact-item">
                    <span>📍</span> Address: 123 Investment Avenue, Victoria Island, Lagos, Nigeria
                </div>
            </div>
        </section>

        <!-- Message Box -->
        <div id="messageBox" role="alert"></div>
    </div>

    <!-- Invest Modal -->
    <div id="investModalOverlay" class="modal-overlay">
        <div class="modal-content">
            <h3 id="modalInvestmentType">Invest in Market</h3>
            <p class="text-gray-600 mb-4">Your current cash: ₦<span id="modalCashBalance">0.00</span></p>
            <input type="number" id="investAmountInput" placeholder="Enter amount to invest (₦)" min="15000" step="1000">
            <input type="number" id="investDurationInput" placeholder="Investment Duration (months)" min="1" max="60" value="12">
            <div class="modal-actions">
                <button id="confirmInvestBtn" class="btn btn-primary">Confirm Invest</button>
                <button id="cancelInvestBtn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="app-footer">
        <p>&copy; 2025 Grow-With-Core. All rights reserved.</p>
        <div class="footer-links">
            <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a>
        </div>
        <div class="social-icons">
            <a href="#">👍</a> <!-- Facebook -->
            <a href="#">✖️</a> <!-- Twitter/X -->
            <a href="#">📸</a> <!-- Instagram -->
            <a href="#">💼</a> <!-- LinkedIn -->
        </div>
    </footer>

    <script>
        // --- DOM Elements ---
        const investmentDashboard = document.getElementById('investmentDashboard');
        const loginSection = document.getElementById('loginSection');
        const createAccountSection = document.getElementById('createAccountSection');
        const welcomeScreen = document.getElementById('welcomeScreen');
        const portfolioSection = document.getElementById('portfolioSection');
        const portfolioGrid = document.getElementById('portfolioGrid');
        const noInvestmentsMessage = document.getElementById('noInvestmentsMessage');
        const messageBox = document.getElementById('messageBox');

        // Header Buttons
        const showLoginBtn = document.getElementById('showLoginBtn');
        const showCreateAccountBtn = document.getElementById('showCreateAccountBtn');
        const myPortfolioBtn = document.getElementById('myPortfolioBtn');
        const logoutBtn = document.getElementById('logoutBtn'); // Header logout button
        const dashboardBtn = document.getElementById('dashboardBtn'); // Header dashboard button

        // Login Form Elements
        const loginForm = document.getElementById('loginForm');
        const loginUsernameInput = document.getElementById('loginUsername');
        const loginPasswordInput = document.getElementById('loginPassword');

        // Create Account Form Elements
        const createAccountForm = document.getElementById('createAccountForm');
        const createUsernameInput = document.getElementById('createUsername');
        const createPasswordInput = document.getElementById('createPassword');
        const confirmPasswordInput = document.getElementById('confirmPassword');

        // Links within auth forms
        const showCreateAccountLink = document.getElementById('showCreateAccountLink');
        const showLoginLink = document.getElementById('showLoginLink');

        // Welcome Screen Elements
        const welcomeUsernameSpan = document.getElementById('welcomeUsername');
        const welcomeLogoutBtn = document.getElementById('welcomeLogoutBtn'); // Logout button on welcome screen
        const welcomeDashboardBtn = document.getElementById('welcomeDashboardBtn'); // Dashboard button on welcome screen
        const welcomePortfolioBtn = document.getElementById('welcomePortfolioBtn'); // Portfolio button on welcome screen

        // Investment Yield Displays (Dashboard)
        const marketYieldSpan = document.getElementById('marketYield');
        const farmingYieldSpan = document.getElementById('farmingYield');
        const poultryYieldSpan = document.getElementById('poultryYield');
        const fishFarmingYieldSpan = document.getElementById('fishFarmingYield');
        const aquacultureYieldSpan = document.getElementById('aquacultureYield');
        const livestockYieldSpan = document.getElementById('livestockYield');
        const agroprocessingYieldSpan = document.getElementById('agroprocessingYield');
        const dairyYieldSpan = document.getElementById('dairyYield');
        const snailYieldSpan = document.getElementById('snailYield');
        const organicCropYieldSpan = document.getElementById('organicCropYield');


        // Investment Calculators (Dashboard)
        const calculateButtons = document.querySelectorAll('.calculate-btn');

        // Canvas Elements (Dashboard)
        const marketChartCanvas = document.getElementById('marketChart');
        const farmingChartCanvas = document.getElementById('farmingChart');
        const poultryChartCanvas = document.getElementById('poultryChart');
        const fishFarmingChartCanvas = document.getElementById('fishFarmingChart');
        const aquacultureChartCanvas = document.getElementById('aquacultureChart');
        const livestockChartCanvas = document.getElementById('livestockChart');
        const agroprocessingChartCanvas = document.getElementById('agroprocessingChart');
        const dairyChartCanvas = document.getElementById('dairyChart');
        const snailChartCanvas = document.getElementById('snailChart');
        const organicCropChartCanvas = document.getElementById('organicCropChart');


        // Invest Modal Elements
        const investModalOverlay = document.getElementById('investModalOverlay');
        const modalInvestmentType = document.getElementById('modalInvestmentType');
        const modalCashBalance = document.getElementById('modalCashBalance');
        const investAmountInput = document.getElementById('investAmountInput');
        const investDurationInput = document.getElementById('investDurationInput'); // New duration input
        const confirmInvestBtn = document.getElementById('confirmInvestBtn');
        const cancelInvestBtn = document.getElementById('cancelInvestBtn');

        // FAQ elements
        const faqQuestions = document.querySelectorAll('.faq-question');

        // --- Global State ---
        let currentLoggedInUser = null; // Stores the username of the logged-in user
        const INITIAL_CASH_BALANCE = 150000; // Starting cash for new users (₦150,000)
        const MIN_INVESTMENT_AMOUNT = 15000; // Minimum investment amount (₦15,000) - general, specific cards override

        // --- Investment Type Configurations ---
        // These configurations define the simulation parameters for each investment type.
        // They are used for both the general dashboard display and for individual user investments.
        const investmentConfigs = {
            market: {
                name: 'Real-time Market',
                baseYield: 100000, // Starting simulated value for dashboard display
                growthRate: 0.008, // Higher daily growth rate (0.8%) for general dashboard yield simulation
                volatility: 0.04, // Higher volatility for general dashboard yield simulation
                yieldSpan: marketYieldSpan,
                chartCanvas: marketChartCanvas,
                chartData: [100000], // Initial data for dashboard chart
                calculator: {
                    amountInput: document.getElementById('marketAmount'),
                    durationInput: document.getElementById('marketDuration'),
                    returnSpan: document.getElementById('marketReturn'),
                    annualRate: 0.25 // 25% annual return for calculator AND portfolio growth
                }
            },
            farming: {
                name: 'Farming',
                baseYield: 50000,
                growthRate: 0.0018, // Lower daily growth rate (0.18%)
                volatility: 0.004, // Lower volatility
                yieldSpan: farmingYieldSpan,
                chartCanvas: farmingChartCanvas,
                chartData: [50000],
                calculator: {
                    amountInput: document.getElementById('farmingAmount'),
                    durationInput: document.getElementById('farmingDuration'),
                    returnSpan: document.getElementById('farmingReturn'),
                    annualRate: 0.08 // 8% annual return
                }
            },
            poultry: {
                name: 'Poultry',
                baseYield: 30000,
                growthRate: 0.003, // Moderate daily growth rate (0.3%)
                volatility: 0.009, // Moderate volatility
                yieldSpan: poultryYieldSpan,
                chartCanvas: poultryChartCanvas,
                chartData: [30000],
                calculator: {
                    amountInput: document.getElementById('poultryAmount'),
                    durationInput: document.getElementById('poultryDuration'),
                    returnSpan: document.getElementById('poultryReturn'),
                    annualRate: 0.12 // 12% annual return
                }
            },
            fishFarming: { // Renamed from fishFarming to basicFishFarming for clarity
                name: 'Basic Fish Farming',
                baseYield: 70000,
                growthRate: 0.005, // Good daily growth rate (0.5%)
                volatility: 0.015, // Slightly higher volatility than farming/poultry
                yieldSpan: fishFarmingYieldSpan,
                chartCanvas: fishFarmingChartCanvas,
                chartData: [70000],
                calculator: {
                    amountInput: document.getElementById('fishFarmingAmount'),
                    durationInput: document.getElementById('fishFarmingDuration'),
                    returnSpan: document.getElementById('fishFarmingReturn'),
                    annualRate: 0.16 // 16% annual return
                }
            },
            // EXISTING NEW INVESTMENT TYPES
            aquaculture: {
                name: 'Advanced Aquaculture',
                baseYield: 120000,
                growthRate: 0.01, // Higher daily growth rate (1%)
                volatility: 0.05, // Higher volatility
                yieldSpan: aquacultureYieldSpan,
                chartCanvas: aquacultureChartCanvas,
                chartData: [120000],
                calculator: {
                    amountInput: document.getElementById('aquacultureAmount'),
                    durationInput: document.getElementById('aquacultureDuration'),
                    returnSpan: document.getElementById('aquacultureReturn'),
                    annualRate: 0.35 // 35% annual return (higher profit)
                }
            },
            livestock: {
                name: 'Livestock Rearing',
                baseYield: 90000,
                growthRate: 0.004, // Moderate daily growth (0.4%)
                volatility: 0.01, // Moderate volatility
                yieldSpan: livestockYieldSpan,
                chartCanvas: livestockChartCanvas,
                chartData: [90000],
                calculator: {
                    amountInput: document.getElementById('livestockAmount'),
                    durationInput: document.getElementById('livestockDuration'),
                    returnSpan: document.getElementById('livestockReturn'),
                    annualRate: 0.20 // 20% annual return (better profit)
                }
            },
            agroprocessing: {
                name: 'Agro-Processing',
                baseYield: 150000,
                growthRate: 0.007, // Good daily growth (0.7%)
                volatility: 0.03, // Higher volatility
                yieldSpan: agroprocessingYieldSpan,
                chartCanvas: agroprocessingChartCanvas,
                chartData: [150000],
                calculator: {
                    amountInput: document.getElementById('agroprocessingAmount'),
                    durationInput: document.getElementById('agroprocessingDuration'),
                    returnSpan: document.getElementById('agroprocessingReturn'),
                    annualRate: 0.30 // 30% annual return (better profit)
                }
            },
            // NEW INVESTMENT TYPES ADDED IN THIS ITERATION
            dairy: {
                name: 'Dairy Farming',
                baseYield: 80000,
                growthRate: 0.0035, // Moderate daily growth
                volatility: 0.008, // Low volatility
                yieldSpan: dairyYieldSpan,
                chartCanvas: dairyChartCanvas,
                chartData: [80000],
                calculator: {
                    amountInput: document.getElementById('dairyAmount'),
                    durationInput: document.getElementById('dairyDuration'),
                    returnSpan: document.getElementById('dairyReturn'),
                    annualRate: 0.18 // 18% annual return (good profit)
                }
            },
            snail: {
                name: 'Snail Farming',
                baseYield: 40000,
                growthRate: 0.006, // Good daily growth
                volatility: 0.025, // Higher volatility, niche market
                yieldSpan: snailYieldSpan,
                chartCanvas: snailChartCanvas,
                chartData: [40000],
                calculator: {
                    amountInput: document.getElementById('snailAmount'),
                    durationInput: document.getElementById('snailDuration'),
                    returnSpan: document.getElementById('snailReturn'),
                    annualRate: 0.28 // 28% annual return (high profit)
                }
            },
            organicCrop: {
                name: 'Organic Crop Farming',
                baseYield: 60000,
                growthRate: 0.0045, // Moderate daily growth
                volatility: 0.012, // Moderate volatility
                yieldSpan: organicCropYieldSpan,
                chartCanvas: organicCropChartCanvas,
                chartData: [60000],
                calculator: {
                    amountInput: document.getElementById('organicCropAmount'),
                    durationInput: document.getElementById('organicCropDuration'),
                    returnSpan: document.getElementById('organicCropReturn'),
                    annualRate: 0.22 // 22% annual return (better profit)
                }
            }
        };


        // --- Utility Functions ---

        /**
         * Simple encoding function for demonstration purposes.
         * NOT SECURE FOR REAL PASSWORDS.
         * In a real app, passwords are hashed on the server with strong algorithms.
         * @param {string} text - The text to encode.
         * @returns {string} The base64 encoded string.
         */
        function encodePassword(text) {
            return btoa(text); // Basic Base64 encoding
        }

        /**
         * Displays a message in the message box.
         * @param {string} message - The message to display.
         * @param {string} type - 'success', 'error', or 'info' to style the message.
         */
        function showMessage(message, type = 'info') {
            messageBox.textContent = message;
            messageBox.className = 'block mt-4 rounded-lg text-sm transition-opacity duration-300'; // Reset classes
            messageBox.classList.add(`message-${type}`);
            messageBox.style.display = 'block'; // Ensure it's visible
            setTimeout(() => {
                messageBox.style.display = 'none'; // Hide after 5 seconds
                messageBox.textContent = '';
            }, 5000);
        }

        /**
         * Clears all input fields in auth forms.
         */
        function clearAuthFormFields() {
            loginUsernameInput.value = '';
            loginPasswordInput.value = '';
            createUsernameInput.value = '';
            createPasswordInput.value = '';
            confirmPasswordInput.value = '';
        }

        /**
         * Switches the active view (Investment Dashboard, Login, Create Account, Welcome, or Portfolio).
         * Also controls visibility of static info sections.
         * @param {string} view - 'dashboard', 'login', 'createAccount', 'welcome', 'portfolio', 'about', 'howItWorks', 'testimonials', 'faq', 'contact'.
         */
        function showView(view) {
            // Hide all main sections
            investmentDashboard.classList.add('hidden');
            loginSection.classList.add('hidden');
            createAccountSection.classList.add('hidden');
            welcomeScreen.classList.add('hidden');
            portfolioSection.classList.add('hidden');
            document.getElementById('aboutSection').classList.add('hidden');
            document.getElementById('howItWorksSection').classList.add('hidden');
            document.getElementById('testimonialsSection').classList.add('hidden');
            document.getElementById('faqSection').classList.add('hidden');
            document.getElementById('contactSection').classList.add('hidden');

            messageBox.style.display = 'none'; // Hide message box on view switch
            clearAuthFormFields(); // Clear auth fields when switching views

            // Always hide all header action buttons first
            showLoginBtn.classList.add('hidden');
            showCreateAccountBtn.classList.add('hidden');
            myPortfolioBtn.classList.add('hidden');
            logoutBtn.classList.add('hidden');
            dashboardBtn.classList.add('hidden');

            const isLoggedIn = currentLoggedInUser !== null;

            // Then, show relevant sections and buttons based on view and login status
            if (view === 'dashboard') {
                investmentDashboard.classList.remove('hidden');
                if (isLoggedIn) {
                    myPortfolioBtn.classList.remove('hidden');
                    logoutBtn.classList.remove('hidden');
                } else {
                    showLoginBtn.classList.remove('hidden');
                    showCreateAccountBtn.classList.remove('hidden');
                }
            } else if (view === 'login') {
                loginSection.classList.remove('hidden');
                showCreateAccountBtn.classList.remove('hidden'); // Option to switch to create account
                dashboardBtn.classList.remove('hidden'); // Option to go back to dashboard
            } else if (view === 'createAccount') {
                createAccountSection.classList.remove('hidden');
                showLoginBtn.classList.remove('hidden'); // Option to switch to login
                dashboardBtn.classList.remove('hidden'); // Option to go back to dashboard
            } else if (view === 'welcome') {
                welcomeScreen.classList.remove('hidden');
                myPortfolioBtn.classList.remove('hidden');
                logoutBtn.classList.remove('hidden');
                dashboardBtn.classList.remove('hidden');
            } else if (view === 'portfolio') {
                portfolioSection.classList.remove('hidden');
                // myPortfolioBtn is hidden when on portfolio view itself
                logoutBtn.classList.remove('hidden');
                dashboardBtn.classList.remove('hidden');
                renderPortfolio(); // Re-render portfolio when showing it
            } else if (view === 'about') {
                document.getElementById('aboutSection').classList.remove('hidden');
                if (isLoggedIn) {
                    myPortfolioBtn.classList.remove('hidden');
                    logoutBtn.classList.remove('hidden');
                    dashboardBtn.classList.remove('hidden');
                } else {
                    showLoginBtn.classList.remove('hidden');
                    showCreateAccountBtn.classList.remove('hidden');
                }
            } else if (view === 'howItWorks') {
                document.getElementById('howItWorksSection').classList.remove('hidden');
                 if (isLoggedIn) {
                    myPortfolioBtn.classList.remove('hidden');
                    logoutBtn.classList.remove('hidden');
                    dashboardBtn.classList.remove('hidden');
                } else {
                    showLoginBtn.classList.remove('hidden');
                    showCreateAccountBtn.classList.remove('hidden');
                }
            } else if (view === 'testimonials') {
                document.getElementById('testimonialsSection').classList.remove('hidden');
                 if (isLoggedIn) {
                    myPortfolioBtn.classList.remove('hidden');
                    logoutBtn.classList.remove('hidden');
                    dashboardBtn.classList.remove('hidden');
                } else {
                    showLoginBtn.classList.remove('hidden');
                    showCreateAccountBtn.classList.remove('hidden');
                }
            } else if (view === 'faq') {
                document.getElementById('faqSection').classList.remove('hidden');
                 if (isLoggedIn) {
                    myPortfolioBtn.classList.remove('hidden');
                    logoutBtn.classList.remove('hidden');
                    dashboardBtn.classList.remove('hidden');
                } else {
                    showLoginBtn.classList.remove('hidden');
                    showCreateAccountBtn.classList.remove('hidden');
                }
            } else if (view === 'contact') {
                document.getElementById('contactSection').classList.remove('hidden');
                 if (isLoggedIn) {
                    myPortfolioBtn.classList.remove('hidden');
                    logoutBtn.classList.remove('hidden');
                    dashboardBtn.classList.remove('hidden');
                } else {
                    showLoginBtn.classList.remove('hidden');
                    showCreateAccountBtn.classList.remove('hidden');
                }
            }
        }

        // --- Authentication Logic ---

        /**
         * Handles the Create Account form submission.
         */
        function handleCreateAccount(event) {
            event.preventDefault();

            const username = createUsernameInput.value.trim();
            const password = createPasswordInput.value;
            const confirmPassword = confirmPasswordInput.value;

            if (!username || !password || !confirmPassword) {
                showMessage('All fields are required.', 'error');
                return;
            }

            if (password.length < 6) {
                showMessage('Password must be at least 6 characters long.', 'error');
                return;
            }

            if (password !== confirmPassword) {
                showMessage('Passwords do not match.', 'error');
                return;
            }

            const users = JSON.parse(localStorage.getItem('growWithCoreUsers') || '{}');

            if (users[username]) {
                showMessage('Username already exists. Please choose a different one.', 'error');
                return;
            }

            users[username] = {
                password: encodePassword(password),
                cashBalance: INITIAL_CASH_BALANCE,
                investments: [] // Array to store user's active investments
            };
            localStorage.setItem('growWithCoreUsers', JSON.stringify(users));

            showMessage('Account created successfully! You can now log in.', 'success');
            showView('login');
        }

        /**
         * Handles the Login form submission.
         */
        function handleLogin(event) {
            event.preventDefault();

            const username = loginUsernameInput.value.trim();
            const password = loginPasswordInput.value;

            if (!username || !password) {
                showMessage('Please enter both username and password.', 'error');
                return;
            }

            const users = JSON.parse(localStorage.getItem('growWithCoreUsers') || '{}');
            const userData = users[username];

            if (userData && userData.password === encodePassword(password)) {
                currentLoggedInUser = username; // Set logged-in user
                showMessage(`Welcome back, ${username}!`, 'success');
                welcomeUsernameSpan.textContent = username;
                localStorage.setItem('lastLoggedInUser', currentLoggedInUser); // Save last logged-in user
                showView('welcome');
            } else {
                showMessage('Invalid username or password.', 'error');
            }
        }

        /**
         * Handles the logout action.
         */
        function handleLogout() {
            currentLoggedInUser = null; // Clear logged-in user
            showMessage('You have been logged out.', 'info');
            localStorage.removeItem('lastLoggedInUser'); // Clear last logged-in user from storage
            showView('dashboard'); // Return to dashboard
        }

        // --- Investment Simulation & Graph Logic ---

        /**
         * Draws a simple line graph on a canvas.
         * @param {HTMLCanvasElement} canvas - The canvas element.
         * @param {number[]} data - Array of data points.
         * @param {string} color - Line color.
         * @param {number} [initialValue=null] - Optional initial value to draw a reference line.
         */
        function drawChart(canvas, data, color, initialValue = null) {
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear canvas

            if (data.length < 2) {
                // If not enough data, just draw a dot or clear
                if (data.length === 1) {
                    ctx.fillStyle = color;
                    ctx.beginPath();
                    ctx.arc(canvas.width / 2, canvas.height / 2, 3, 0, Math.PI * 2);
                    ctx.fill();
                }
                return;
            }

            const allValues = initialValue !== null ? [...data, initialValue] : [...data];
            const maxVal = Math.max(...allValues);
            const minVal = Math.min(...allValues);
            const range = maxVal - minVal;

            ctx.beginPath();
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.lineCap = 'round'; // Smoother line ends
            ctx.lineJoin = 'round'; // Smoother line joins

            // Scale data to fit canvas height, adding a small padding
            const padding = 0.1; // 10% padding
            const effectiveHeight = canvas.height * (1 - 2 * padding);
            const startYOffset = minVal - (range * padding);
            const scaleY = effectiveHeight / (range === 0 ? 1 : range * (1 + 2 * padding));

            // Draw initial value reference line if provided
            if (initialValue !== null) {
                ctx.save(); // Save current context state
                ctx.strokeStyle = 'rgba(100, 100, 100, 0.5)'; // Grey, semi-transparent
                ctx.setLineDash([5, 5]); // Dashed line
                ctx.beginPath();
                const yInitial = canvas.height - (initialValue - startYOffset) * scaleY;
                ctx.moveTo(0, yInitial);
                ctx.lineTo(canvas.width, yInitial);
                ctx.stroke();
                ctx.restore(); // Restore context state
            }

            // Move to the first point
            ctx.moveTo(0, canvas.height - (data[0] - startYOffset) * scaleY);

            // Draw lines to subsequent points
            for (let i = 1; i < data.length; i++) {
                const x = (i / (data.length - 1)) * canvas.width;
                const y = canvas.height - (data[i] - startYOffset) * scaleY;
                ctx.lineTo(x, y);
            }
            ctx.stroke();

            // Draw latest point
            const lastX = canvas.width;
            const lastY = canvas.height - (data[data.length - 1] - startYOffset) * scaleY;
            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.arc(lastX, lastY, 4, 0, Math.PI * 2);
            ctx.fill();
        }

        /**
         * Updates the simulated yield for a given investment type (for dashboard display).
         * This simulation is independent of user's actual investments.
         * @param {string} type - The investment type (e.g., 'market', 'farming').
         */
        function updateSimulatedYield(type) {
            const config = investmentConfigs[type];
            if (!config || !config.chartCanvas) return; // Ensure canvas exists for dashboard cards

            // Simulate growth with some volatility
            let currentYield = config.chartData[config.chartData.length - 1] || config.baseYield;
            const growth = currentYield * config.growthRate;
            const fluctuation = (Math.random() * 2 - 1) * currentYield * config.volatility; // -1 to 1 range

            currentYield += growth + fluctuation;
            currentYield = Math.max(config.baseYield / 2, currentYield); // Prevent yield from dropping too low

            config.chartData.push(currentYield);
            // Keep chart data array limited to show recent trend
            if (config.chartData.length > 50) { // Keep last 50 points
                config.chartData.shift();
            }

            config.yieldSpan.textContent = currentYield.toFixed(2);
            // Update color based on recent fluctuation for dynamic feel
            config.yieldSpan.classList.toggle('negative', fluctuation < 0);

            drawChart(config.chartCanvas, config.chartData, fluctuation < 0 ? 'var(--accent-red)' : 'var(--accent-green)');
        }

        /**
         * Calculates and displays projected returns for an investment type (for dashboard calculator).
         * @param {string} type - The investment type.
         */
        function calculateProjectedReturn(type) {
            const config = investmentConfigs[type].calculator;
            const amount = parseFloat(config.amountInput.value);
            const duration = parseInt(config.durationInput.value); // Duration in months
            const minAmount = parseFloat(config.amountInput.min);


            if (isNaN(amount) || amount < minAmount || isNaN(duration) || duration <= 0) {
                config.returnSpan.textContent = '0.00';
                config.returnSpan.classList.remove('positive', 'loss');
                // No error message here, as it's just a calculator, not a transaction
                return;
            }

            // Simple compound interest calculation (monthly compounding)
            const monthlyRate = config.annualRate / 12;
            const futureValue = amount * Math.pow((1 + monthlyRate), duration);
            const profit = futureValue - amount;

            config.returnSpan.textContent = profit.toFixed(2);
            if (profit > 0) {
                config.returnSpan.classList.remove('loss');
                config.returnSpan.classList.add('positive');
            } else if (profit < 0) {
                config.returnSpan.classList.remove('positive');
                config.returnSpan.classList.add('loss');
            } else {
                config.returnSpan.classList.remove('positive', 'loss');
            }
        }

        // --- Portfolio Management ---

        /**
         * Saves the current user's data to local storage.
         */
        function saveUserData() {
            if (!currentLoggedInUser) return;
            const users = JSON.parse(localStorage.getItem('growWithCoreUsers') || '{}');
            users[currentLoggedInUser] = {
                ...users[currentLoggedInUser], // Keep existing data like password
                cashBalance: users[currentLoggedInUser].cashBalance,
                investments: users[currentLoggedInUser].investments
            };
            localStorage.setItem('growWithCoreUsers', JSON.stringify(users));
        }

        /**
         * Loads the current user's data from local storage.
         * @returns {object} The user's data.
         */
        function loadUserData() {
            if (!currentLoggedInUser) return null;
            const users = JSON.parse(localStorage.getItem('growWithCoreUsers') || '{}');
            return users[currentLoggedInUser];
        }

        /**
         * Renders the user's portfolio.
         */
        function renderPortfolio() {
            portfolioGrid.innerHTML = ''; // Clear existing items
            const userData = loadUserData();

            if (!userData || userData.investments.length === 0) {
                noInvestmentsMessage.classList.remove('hidden');
                document.getElementById('cashBalance').textContent = (userData ? userData.cashBalance : 0).toFixed(2);
                return;
            } else {
                noInvestmentsMessage.classList.add('hidden');
            }

            document.getElementById('cashBalance').textContent = userData.cashBalance.toFixed(2);

            userData.investments.forEach((investment) => {
                const config = investmentConfigs[investment.type];
                if (!config) return; // Should not happen

                // Format start date
                const startDate = new Date(investment.startDate).toLocaleDateString();

                const portfolioItem = document.createElement('div');
                portfolioItem.className = 'portfolio-item';
                portfolioItem.innerHTML = `
                    <h4>${config.name}</h4>
                    <p>Initial Investment: ₦${investment.initialAmount.toFixed(2)}</p>
                    <p>Duration: ${investment.durationMonths} months</p>
                    <p>Start Date: ${startDate}</p>
                    <p>Current Value:</p>
                    <div class="portfolio-value" id="portfolioValue_${investment.id}">₦${investment.currentValue.toFixed(2)}</div>
                    <canvas id="portfolioChart_${investment.id}" class="portfolio-chart"></canvas>
                    <button class="btn btn-danger mt-4 cash-out-btn" data-investment-id="${investment.id}">Cash Out</button>
                `;
                portfolioGrid.appendChild(portfolioItem);

                // Set up canvas for portfolio item
                const canvas = document.getElementById(`portfolioChart_${investment.id}`);
                const style = getComputedStyle(canvas);
                canvas.width = parseInt(style.width, 10);
                canvas.height = parseInt(style.height, 10);
                drawChart(canvas, investment.chartData, investment.currentValue >= investment.initialAmount ? 'var(--accent-green)' : 'var(--accent-red)', investment.initialAmount); // Initial draw based on profit/loss
                document.getElementById(`portfolioValue_${investment.id}`).classList.toggle('loss', investment.currentValue < investment.initialAmount);
            });

            // Add event listeners for new cash out buttons
            document.querySelectorAll('.cash-out-btn').forEach(button => {
                button.addEventListener('click', (event) => {
                    const investmentId = parseInt(event.target.dataset.investmentId);
                    cashOutInvestment(investmentId);
                });
            });
        }

        /**
         * Updates all active investments in the user's portfolio based on duration.
         */
        function updatePortfolioInvestments() {
            if (!currentLoggedInUser) return;

            const users = JSON.parse(localStorage.getItem('growWithCoreUsers') || '{}');
            const userData = users[currentLoggedInUser];

            if (!userData || !userData.investments || userData.investments.length === 0) {
                return;
            }

            const now = Date.now(); // Current timestamp

            userData.investments.forEach(investment => {
                const config = investmentConfigs[investment.type];
                if (!config) return;

                const initialAmount = investment.initialAmount;
                const annualRate = config.calculator.annualRate; // Use the annual rate from config
                const durationMonths = investment.durationMonths;
                const startDate = investment.startDate;

                // Calculate elapsed time in milliseconds
                const elapsedTimeMs = now - startDate;
                // Convert elapsed time to months (approximate, using 30.44 days per month for simulation)
                const elapsedMonths = elapsedTimeMs / (1000 * 60 * 60 * 24 * 30.44);

                let expectedValue = initialAmount;
                // Calculate compound interest for the elapsed time, capped at total duration
                const actualElapsedMonthsForCalculation = Math.min(elapsedMonths, durationMonths);
                const monthlyRate = annualRate / 12;
                expectedValue = initialAmount * Math.pow((1 + monthlyRate), actualElapsedMonthsForCalculation);

                // Apply a small daily fluctuation on top of the expected growth
                // This makes the graph dynamic even with duration-based growth
                const fluctuation = (Math.random() * 2 - 1) * expectedValue * config.volatility * 0.1; // Smaller volatility for duration-based
                let currentValue = expectedValue + fluctuation;

                // Ensure current value doesn't drop too low or exceed final value significantly
                currentValue = Math.max(initialAmount * 0.5, currentValue); // Prevent value from dropping too low

                // If duration is over, ensure the value hovers around the final projected value
                if (elapsedMonths >= durationMonths) {
                    const finalProjectedValue = initialAmount * Math.pow((1 + annualRate / 12), durationMonths);
                    currentValue = Math.min(finalProjectedValue * 1.02, Math.max(finalProjectedValue * 0.98, currentValue));
                }


                investment.currentValue = currentValue;
                investment.chartData.push(currentValue);

                if (investment.chartData.length > 50) { // Keep last 50 points for portfolio charts
                    investment.chartData.shift();
                }
            });

            localStorage.setItem('growWithCoreUsers', JSON.stringify(users)); // Save updated data
            if (!portfolioSection.classList.contains('hidden')) {
                renderPortfolio(); // Re-render if portfolio is currently visible
            }
        }

        /**
         * Handles the cash out of an investment.
         * @param {number} investmentId - The ID of the investment to cash out.
         */
        function cashOutInvestment(investmentId) {
            if (!currentLoggedInUser) {
                showMessage('Please log in to cash out investments.', 'error');
                return;
            }

            const users = JSON.parse(localStorage.getItem('growWithCoreUsers') || '{}');
            const userData = users[currentLoggedInUser];

            const investmentIndex = userData.investments.findIndex(inv => inv.id === investmentId);

            if (investmentIndex === -1) {
                showMessage('Investment not found.', 'error');
                return;
            }

            const investmentToCashOut = userData.investments[investmentIndex];
            const cashOutAmount = investmentToCashOut.currentValue;

            userData.cashBalance += cashOutAmount; // Add current value back to cash balance
            userData.investments.splice(investmentIndex, 1); // Remove investment

            localStorage.setItem('growWithCoreUsers', JSON.stringify(users));
            showMessage(`Successfully cashed out ₦${cashOutAmount.toFixed(2)} from your ${investmentToCashOut.type} investment!`, 'success');
            renderPortfolio(); // Re-render portfolio
        }

        // --- Invest Modal Logic ---
        let currentInvestmentType = null; // Stores the type of investment being made

        /**
         * Shows the invest modal.
         * @param {string} type - The type of investment (e.g., 'market').
         */
        function showInvestModal(type) {
            if (!currentLoggedInUser) {
                showMessage('Please log in to invest.', 'info');
                showView('login');
                return;
            }

            currentInvestmentType = type;
            const config = investmentConfigs[type];
            modalInvestmentType.textContent = `Invest in ${config.name}`;
            const userData = loadUserData();
            modalCashBalance.textContent = userData.cashBalance.toFixed(2);
            // Set default and min values for amount and duration based on config
            investAmountInput.value = config.calculator.amountInput.value;
            investAmountInput.min = config.calculator.amountInput.min;
            investDurationInput.value = config.calculator.durationInput.value;
            investDurationInput.min = config.calculator.durationInput.min;
            investDurationInput.max = config.calculator.durationInput.max;

            investModalOverlay.classList.add('show');
        }

        /**
         * Hides the invest modal.
         */
        function hideInvestModal() {
            investModalOverlay.classList.remove('show');
            currentInvestmentType = null;
        }

        /**
         * Handles the confirmation of an investment.
         */
        function confirmInvestment() {
            const amount = parseFloat(investAmountInput.value);
            const durationMonths = parseInt(investDurationInput.value);
            const userData = loadUserData();

            const config = investmentConfigs[currentInvestmentType]; // Get config for current type
            const minAmount = parseFloat(config.calculator.amountInput.min);
            const minDuration = parseInt(config.calculator.durationInput.min);
            const maxDuration = parseInt(config.calculator.durationInput.max);


            if (isNaN(amount) || amount < minAmount) {
                showMessage(`Please enter a valid amount. Minimum investment for ${config.name} is ₦${minAmount.toLocaleString()}.`, 'error');
                return;
            }
            if (isNaN(durationMonths) || durationMonths < minDuration || durationMonths > maxDuration) {
                showMessage(`Please enter a valid duration for ${config.name} between ${minDuration} and ${maxDuration} months.`, 'error');
                return;
            }
            if (amount > userData.cashBalance) {
                showMessage('Insufficient cash balance.', 'error');
                return;
            }

            // Update user's cash balance
            userData.cashBalance -= amount;

            // Add new investment to user's portfolio
            const newInvestment = {
                id: Date.now(), // Unique ID for the investment
                type: currentInvestmentType,
                initialAmount: amount,
                currentValue: amount, // Starts at initial amount
                durationMonths: durationMonths, // Store duration
                startDate: Date.now(), // Store start date (timestamp)
                chartData: [amount] // Initial data for this specific investment's chart
            };
            userData.investments.push(newInvestment);

            // Save updated user data
            const users = JSON.parse(localStorage.getItem('growWithCoreUsers') || '{}');
            users[currentLoggedInUser] = userData;
            localStorage.setItem('growWithCoreUsers', JSON.stringify(users));

            showMessage(`Successfully invested ₦${amount.toFixed(2)} in ${investmentConfigs[currentInvestmentType].name} for ${durationMonths} months!`, 'success');
            hideInvestModal();
            renderPortfolio(); // Update portfolio display immediately
            showView('portfolio'); // Navigate to portfolio after investing
        }

        // --- Event Listeners ---
        showLoginBtn.addEventListener('click', () => showView('login'));
        showCreateAccountBtn.addEventListener('click', () => showView('createAccount'));
        myPortfolioBtn.addEventListener('click', () => showView('portfolio'));
        logoutBtn.addEventListener('click', handleLogout); // Header logout
        dashboardBtn.addEventListener('click', () => showView('dashboard'));

        // Welcome screen buttons
        welcomeDashboardBtn.addEventListener('click', () => showView('dashboard'));
        welcomePortfolioBtn.addEventListener('click', () => showView('portfolio'));
        welcomeLogoutBtn.addEventListener('click', handleLogout); // Welcome screen logout

        showCreateAccountLink.addEventListener('click', (e) => {
            e.preventDefault();
            showView('createAccount');
        });
        showLoginLink.addEventListener('click', (e) => {
            e.preventDefault();
            showView('login');
        });

        createAccountForm.addEventListener('submit', handleCreateAccount);
        loginForm.addEventListener('submit', handleLogin);


        // Add event listeners for all calculator buttons
        calculateButtons.forEach(button => {
            button.addEventListener('click', (event) => {
                const type = event.target.dataset.type;
                calculateProjectedReturn(type);
            });
        });

        // Add event listeners for all "Invest Now" buttons
        document.querySelectorAll('.invest-btn').forEach(button => {
            button.addEventListener('click', (event) => {
                const type = event.target.dataset.investmentType;
                showInvestModal(type);
            });
        });

        // Invest Modal button listeners
        confirmInvestBtn.addEventListener('click', confirmInvestment);
        cancelInvestBtn.addEventListener('click', hideInvestModal);
        investModalOverlay.addEventListener('click', (e) => {
            // Close modal if clicked outside content
            if (e.target === investModalOverlay) {
                hideInvestModal();
            }
        });

        // FAQ accordion functionality
        faqQuestions.forEach(question => {
            question.addEventListener('click', () => {
                const answer = question.nextElementSibling;
                question.classList.toggle('active');
                if (answer.style.display === 'block') {
                    answer.style.display = 'none';
                } else {
                    answer.style.display = 'block';
                }
            });
        });

        // Smooth scrolling for header navigation links
        document.querySelectorAll('.header-nav-link').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement) {
                    // Hide all dynamic sections first, then show the target info section
                    investmentDashboard.classList.add('hidden');
                    loginSection.classList.add('hidden');
                    createAccountSection.classList.add('hidden');
                    welcomeScreen.classList.add('hidden');
                    portfolioSection.classList.add('hidden');

                    document.getElementById('aboutSection').classList.add('hidden');
                    document.getElementById('howItWorksSection').classList.add('hidden');
                    document.getElementById('testimonialsSection').classList.add('hidden');
                    document.getElementById('faqSection').classList.add('hidden');
                    document.getElementById('contactSection').classList.add('hidden');

                    targetElement.classList.remove('hidden'); // Show the specific info section

                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start' // Scroll to the start of the element
                    });
                }
            });
        });


        // --- Initial Setup ---
        window.onload = function() {
            // Set initial canvas dimensions for dashboard charts
            for (const type in investmentConfigs) {
                const config = investmentConfigs[type];
                if (config.chartCanvas) {
                    const style = getComputedStyle(config.chartCanvas);
                    config.chartCanvas.width = parseInt(style.width, 10);
                    config.chartCanvas.height = parseInt(style.height, 10);
                    drawChart(config.chartCanvas, config.chartData, 'var(--accent-green)'); // Initial draw
                }
                // Calculate initial returns for dashboard calculators
                calculateProjectedReturn(type);
            }

            // Start simulated yield updates
            setInterval(() => {
                for (const type in investmentConfigs) {
                    updateSimulatedYield(type); // Update dashboard charts
                }
                updatePortfolioInvestments(); // Update user's portfolio investments
            }, 2000); // Update every 2 seconds

            // Check if a user was previously logged in (e.g., from a page refresh)
            const lastLoggedInUser = localStorage.getItem('lastLoggedInUser');
            if (lastLoggedInUser && JSON.parse(localStorage.getItem('growWithCoreUsers') || '{}')[lastLoggedInUser]) {
                currentLoggedInUser = lastLoggedInUser;
                welcomeUsernameSpan.textContent = currentLoggedInUser;
                showView('welcome'); // Show welcome screen if logged in
            } else {
                showView('dashboard'); // Otherwise, start with the investment dashboard
            }
        };

        // Handle canvas resizing (important for responsiveness)
        window.addEventListener('resize', () => {
            // Redraw dashboard charts
            for (const type in investmentConfigs) {
                const config = investmentConfigs[type];
                if (config.chartCanvas) {
                    const style = getComputedStyle(config.chartCanvas);
                    config.chartCanvas.width = parseInt(style.width, 10);
                    config.chartCanvas.height = parseInt(style.height, 10);
                    drawChart(config.chartCanvas, config.chartData, 'var(--accent-green)'); // Redraw on resize
                }
            }
            // Redraw portfolio charts if visible
            if (!portfolioSection.classList.contains('hidden')) {
                renderPortfolio();
            }
        });
    </script>
</body>
</html>
